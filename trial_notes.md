| CONTEXTPROCESSOR            |                     |                               |                                                                 |              |                              |                                   |                     |                        |              |
|-----------------------------|---------------------|-------------------------------|-----------------------------------------------------------------|--------------|------------------------------|-----------------------------------|---------------------|------------------------|--------------|
|                             |                     |                               |                                                                 |              |                              |                                   |                     |                        |              |
|                             | REQUEST.SITE_ORIGIN | REQUEST.GET                   | trial_ID_SITE_ID                                                | Cookie State | Route                        | Additional Template Data          | Cookies Set/Cleared | data added to response | Cache Action |
| Trial.get_for_site(request) |                     |                               |                                                                 |              |                              |                                   |                     |                        |              |
|                             | 1                   |                               | return cache.get('trial_1'), Trial.objects.(site_id=1).latest() | None         | continue                     |                                   |                     |                        |              |
| CONTEXTPROCESSOR            |                     |                               |                                                                 |              |                              |                                   |                     |                        |              |
|                             |                     |                               | beta_1                                                          | None         |                              | trial=Trial.get_for_site(request) |                     |                        |              |
| PROCESS_REQUEST             |                     |                               |                                                                 |              |                              |                                   |                     |                        |              |
|                             |                     | trial_%(id)s_%(site_id)s=True |                                                                 |              |                              |                                   |                     |                        |              |
|                             |                     |                               | beta_1                                                          | None         | beta.wnyc.org                | beta_1:True                       | beta_1=True - set   |                        |              |
|                             |                     |                               | beta_1                                                          | None         |                              | beta_1:False                      | beta_1=False - set  |                        |              |
|                             |                     |                               | beta_1                                                          | beta_1=True  | beta.wnyc.org                |                                   |                     |                        |              |
|                             |                     |                               | beta_1                                                          | beta_1=False | www.wnyc.org                 |                                   |                     |                        |              |
|                             |                     |                               | beta_2                                                          | beta_1=True  | beta.wnyc.org/exit_interview | beta:beta_1_in                    | beta_1_in - clear   |                        |              |
|                             |                     |                               | beta_2                                                          | beta_1=False | www.wnyc.org                 |                                   | beta_1_out - clear  |                        |              |
| PROCESS_RESPONSE            |                     |                               |                                                                 |              |                              |                                   |                     |                        |              |
|                             |                     |                               | beta_1                                                          | None         |                              |                                   |                     | beta_1 trial json      |              |
|                             |                     |                               | beta_1                                                          | beta_1=True  | False                        |                                   |                     |                        | None         |
|                             |                     |                               |                                                                 |              |                              |                                   |                     |                        |              |
